# ─────────────────────────────────────────────────────────────────────────────
# CodingBuddy Backend — Environment Variables
# Copy this file to .env and fill in your values
# ─────────────────────────────────────────────────────────────────────────────

# ── Required ──────────────────────────────────────────────────────────────────

# PostgreSQL connection string (Render provides this automatically)
DATABASE_URL="postgresql://user:password@host:5432/codingbuddy?schema=public"

# Redis connection string (use rediss:// for TLS on Render)
REDIS_URL="redis://localhost:6379"

# JWT signing secret — MUST be set in production (use a strong random string)
JWT_SECRET="change-me-to-a-strong-secret"

# ── Judge0 ────────────────────────────────────────────────────────────────────

# Self-hosted Judge0 CE instance URL
JUDGE0_URL="http://localhost:2358"

# Optional: Judge0 auth token (X-Auth-Token header)
# JUDGE0_API_KEY=""

# ── Frontend ──────────────────────────────────────────────────────────────────

# URL of the deployed frontend (used for CORS)
FRONTEND_URL="http://localhost:5173"

# ── Server ────────────────────────────────────────────────────────────────────

PORT=5000
NODE_ENV="development"

# ── Optional ──────────────────────────────────────────────────────────────────

# Admin seed credentials (fallback defaults exist for dev)
# ADMIN_EMAIL="admin@codingbuddy.com"
# ADMIN_PASSWORD="Admin@123456"

# Run the submission worker inside the API process (default: true in dev)
# WORKER_IN_PROCESS="true"

# Set to 'true' to use an in-memory mock queue instead of Redis (dev-only)
# REDIS_DISABLED="true"

# Judge0 execution limits
# MAX_EXECUTION_TIME=5000   # ms
# MAX_MEMORY_LIMIT=512      # MB

# JWT token expiry
# JWT_EXPIRES_IN="7d"

# Rate limiting
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# Enable verbose Judge0 test case logging
# JUDGE_DEBUG="true"
